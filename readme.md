**Описание**
Курсовая работа Проект 3. Поиск вакансий с подключением БД по специальности "Разработчик Python" университета Skypro.

**Задачи выполняемые программой:**  
- создание базы данных, таблиц и заполнение таблиц,  
- получение данных о вакансиях с сайта hh.ru в базу данных PostgreSQL с возможностью анализа:  
    - Количества вакансий по компаниям,  
    - Средней зарплаты,  
    - Поиска по ключевым словам.

**Для пользователей:**  

Установка: `poetry install --no-dev`  

Запуск: `python main.py`  

Пример запроса:  

"Здравствуйте!  
Вас приветствует программа сбора данных о вакансиях с сайта hh.ru компаний:  
Яндекс, Сбер, Озон, Тинькофф, VK, Касперский, Авито, Wildberries, Газпром нефть, Лукойл.  
Для поиска в вакансиях введите ключевое слово (Enter без ввода слова выведет весь список полученных вакансий):"

Пример вывода:  

Компании и количество вакансий:
Яндекс: 42 вакансий
Сбер: 35 вакансий

Средняя зарплата:  
120000.0  

Вакансии с зарплатой выше средней 100:  

Компания: Яндекс  
Должность: Senior Python Developer  
Зарплата: 180000-220000 RUR  
Ссылка: https://hh.ru/vacancy/123  
...

**Для разработчиков:**  

Установка: `poetry install`  
!Важно!
Для корректной работы программы в корне проекта необходимо создать(при их отсутствии) директории "data" и "logs"  

**Требуемые версии:**  
- Python >=3.13.1
- poetry-core>=2.0.0,<3.0.0
- PostgreSQL 17

**Библиотеки:**
   - requests,
   - python-dotenv,
   - psycopg2,
   - typing,
   - abc,
   - os,
   - time,
   - pathlib,
   - json,
   - datetime,
   - logging.
  
**Состав проекта:**  
- main.py - точка входа, интерактив с пользователем;  
- src/config.py - конфигурация проекта и переменные;  
- src/database_processing.py - создание БД и таблиц, обработка данных, заполнение таблиц;  
- src/api_client.py - запрос и получение информации по API;  
- src/utils.py - вспомогательные функции: проверка файла данных, чтение файла данных, перезапись файла данных, вывод информации в консоль.  
- data/ - директория хранения файла данных;  
- logs/ - директория логов.  

**Шаблон для .env**  

DB_NAME=hh_vacancies  
DB_USER=postgres  
DB_PASSWORD=ваш_пароль  
DB_HOST=localhost  

**Особенности реализации:**  

Кеширование данных на 1 час(изменяется в config.py),  
Проверка актуальности параметров запроса,  
Автоматическое закрытие соединений с БД,  
Логирование всех операций.

**Описание работы программы:**
В данной программе данные всегда загружаются из файла(директория data).  
После интерактивного опроса пользователя производится проверка существования файла данных с указанным именем, время его существования и соответствия данных параметрам запроса.  
По результатам опроса и проверок файл или используется или обновляется.  
Так же пользователю предлагается ввести ключевое слово для поиска среди полученных соответствующих вакансий. Если слово не введено, то выводится список всех вакансий.
После получения данных автоматически создается БД через подключение к PostgreSQL. В БД создаются две таблицы "employers" и "vacancies".
В результате SQL запросов в консоль выводятся: 
- список компаний и количество полученных для них вакансий,
- средняя зарплата (во избежание искажения результата учитываются только вакансии имеющие значения "от" и "до"),
- список вакансий с зарплатой выше средней,
- список вакансий соответствующих ключевому слову.
В зависимости от задачи переменные можно изменить в config.py, для них указаны комментарии.

**Лицензия**  

Лицензия MIT  

Copyright © «2025» Алексей Фоменко  
Данная лицензия разрешает лицам, получившим копию данного программного обеспечения и сопутствующей документации  
(в дальнейшем именуемыми «Программное Обеспечение»), безвозмездно использовать Программное Обеспечение без ограничений,
включая неограниченное право на использование,  
копирование, изменение, слияние, публикацию, распространение, сублицензирование и/или продажу копий Программного
Обеспечения, а также лицам, которым предоставляется  
данное Программное Обеспечение, при соблюдении следующих условий:  
Указанное выше уведомление об авторском праве и данные условия должны быть включены во все копии или значимые части
данного Программного Обеспечения.

ДАННОЕ ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ ПРЕДОСТАВЛЯЕТСЯ «КАК ЕСТЬ», БЕЗ КАКИХ-ЛИБО ГАРАНТИЙ, ЯВНО ВЫРАЖЕННЫХ ИЛИ ПОДРАЗУМЕВАЕМЫХ,
ВКЛЮЧАЯ ГАРАНТИИ ТОВАРНОЙ ПРИГОДНОСТИ,  
СООТВЕТСТВИЯ ПО ЕГО КОНКРЕТНОМУ НАЗНАЧЕНИЮ И ОТСУТСТВИЯ НАРУШЕНИЙ, НО НЕ ОГРАНИЧИВАЯСЬ ИМИ. НИ В КАКОМ СЛУЧАЕ АВТОРЫ ИЛИ
ПРАВООБЛАДАТЕЛИ НЕ НЕСУТ ОТВЕТСТВЕННОСТИ  
ПО КАКИМ-ЛИБО ИСКАМ, ЗА УЩЕРБ ИЛИ ПО ИНЫМ ТРЕБОВАНИЯМ, В ТОМ ЧИСЛЕ, ПРИ ДЕЙСТВИИ КОНТРАКТА, ДЕЛИКТЕ ИЛИ ИНОЙ СИТУАЦИИ,
ВОЗНИКШИМ ИЗ-ЗА ИСПОЛЬЗОВАНИЯ ПРОГРАММНОГО  
ОБЕСПЕЧЕНИЯ ИЛИ ИНЫХ ДЕЙСТВИЙ С ПРОГРАММНЫМ ОБЕСПЕЧЕНИЕМ.